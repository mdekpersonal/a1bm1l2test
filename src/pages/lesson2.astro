---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Leçon 2 : La Famille et les Relations - Cours de Français A1">
	<!-- Loading indicator -->
	<div id="loading-screen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #667eea; display: flex; justify-content: center; align-items: center; z-index: 9999;">
		<div style="text-align: center; color: white;">
			<div style="width: 50px; height: 50px; border: 3px solid rgba(255,255,255,0.3); border-radius: 50%; border-top: 3px solid white; animation: spin 1s linear infinite; margin: 0 auto 1rem;"></div>
			<p>Vérification de l'authentification...</p>
		</div>
	</div>

	<div class="lesson-header">
	   <div class="lesson-nav">
		   <a href="/lesson1" class="btn btn-secondary">← Leçon 1</a>
		   <span class="lesson-progress">Leçon 2 sur 4</span>
		   <a href="/lesson3" class="btn">Leçon Suivante →</a>
	   </div>
	   <h1>Leçon 2 : La Famille et les Relations</h1>
	   <p class="lesson-subtitle">Maîtrisez le vocabulaire de la famille et apprenez à décrire les personnes</p>
	</div>

   <div class="lesson-content">
	  <!-- Objectifs d'Apprentissage -->
   <section class="objectives">
	   <h2>🎯 Objectifs d'Apprentissage (A2 - Lycée)</h2>
	   <ul>
		   <li>Utiliser un vocabulaire étendu pour décrire la famille, les relations et la personnalité dans des contextes variés</li>
		   <li>Participer à des conversations sur les relations familiales, les conflits, et la vie quotidienne</li>
		   <li>Exprimer ses opinions, ses préférences et ses émotions concernant la famille et les amis</li>
		   <li>Rédiger des textes courts (messages, emails, dialogues) sur la famille et les relations</li>
		   <li>Comprendre et utiliser les adjectifs possessifs et les expressions idiomatiques liées à la famille</li>
		   <li>Interpréter des dialogues authentiques et des situations de communication réelle</li>
	   </ul>
	</section>

	  <!-- Vocabulaire & Vidéo -->
	  <section class="vocabulary">
  <h2>👨‍👩‍👧‍👦 Vocabulaire & Communication : La Famille et les Relations</h2>
  <div class="instructions" style="margin-bottom:1.5rem;">
	<p style="font-size:1.1rem; color:#000;"><strong>Instructions :</strong> Écoutez l'audio, mémorisez les phrases, puis lisez chaque phrase à voix haute sans l'audio en faisant attention à la prononciation correcte.</p>
	<p dir="rtl" style="font-size:1.1rem; color:#000;"><strong>تعليمات:</strong> استمع إلى الصوت، احفظ الجمل، ثم اقرأ كل جملة بصوت عالٍ بدون صوت مع الانتباه إلى النطق الصحيح.</p>
  </div>
	  <div class="audio-section" style="margin-bottom:2rem;">
		  <h3>Audio : La famille et la communication en français</h3>
		  <audio controls style="width:100%; max-width:350px;">
<source src="/audio/a1bfrm1l2audio1.wav" type="audio/wav">
			  Votre navigateur ne supporte pas l'audio HTML5.
		  </audio>
	  </div>
	  <div class="vocab-category">
	  <h3>Expressions pour communiquer en famille</h3>
	  <div class="vocab-grid">
		  <div class="vocab-item"><span class="french">Tu peux m'aider à mettre la table ?</span></div>
		  <div class="vocab-item"><span class="french">Est-ce que tu as fini tes devoirs ?</span></div>
		  <div class="vocab-item"><span class="french">Je suis fier/fière de toi.</span></div>
		  <div class="vocab-item"><span class="french">On se retrouve ce soir pour dîner ?</span></div>
		  <div class="vocab-item"><span class="french">J'ai besoin de parler avec toi.</span></div>
		  <div class="vocab-item"><span class="french">Tu veux sortir avec nous ce week-end ?</span></div>
		  <div class="vocab-item"><span class="french">Je n'ai pas le droit de sortir ce soir.</span></div>
		  <div class="vocab-item"><span class="french">C'est compliqué avec mes parents.</span></div>
		  <div class="vocab-item"><span class="french">Je m'entends bien avec ma sœur.</span></div>
		  <div class="vocab-item"><span class="french">On se dispute parfois, mais on s'aime.</span></div>
	  </div>
	  </div>
	  <div class="vocab-category">
	  <h3>Vocabulaire avancé : Relations et personnalité</h3>
	  <div class="audio-section" style="margin-bottom:1rem;">
		<audio controls style="width:100%; max-width:350px;">
<source src="/audio/a1bfrm1l2audio3.wav" type="audio/wav">
		  Votre navigateur ne supporte pas l'audio HTML5.
		</audio>
	  </div>
	  <div class="vocab-grid">
		  <div class="vocab-item">
			<span class="french">soutenir</span><br>
			<span class="arabic" dir="rtl">يدعم</span><br>
			<span class="french">Exemple : Il faut soutenir ses amis dans les moments difficiles.</span>
		  </div>
		  <div class="vocab-item">
			<span class="french">avoir confiance en</span><br>
			<span class="arabic" dir="rtl">يثق بـ</span><br>
			<span class="french">Exemple : J'ai confiance en ma sœur, elle ne me ment jamais.</span>
		  </div>
		  <div class="vocab-item">
			<span class="french">gérer un conflit</span><br>
			<span class="arabic" dir="rtl">يدير نزاعًا</span><br>
			<span class="french">Exemple : Il sait bien gérer les conflits dans sa famille.</span>
		  </div>
		  <div class="vocab-item">
			<span class="french">être franc/franche</span><br>
			<span class="arabic" dir="rtl">صريح/صريحة</span><br>
			<span class="french">Exemple : Elle est très franche, elle dit toujours la vérité.</span>
		  </div>
		  <div class="vocab-item">
			<span class="french">rancunier/rancunière</span><br>
			<span class="arabic" dir="rtl">حقود/حقودة</span><br>
			<span class="french">Exemple : Mon frère est rancunier, il n'oublie jamais une dispute.</span>
		  </div>
		  <div class="vocab-item">
			<span class="french">sociable</span><br>
			<span class="arabic" dir="rtl">اجتماعي</span><br>
			<span class="french">Exemple : Paul est sociable, il se fait des amis facilement.</span>
		  </div>
		  <div class="vocab-item">
			<span class="french">introverti(e)</span><br>
			<span class="arabic" dir="rtl">انطوائي/انطوائية</span><br>
			<span class="french">Exemple : Julie est introvertie, elle préfère rester seule.</span>
		  </div>
		  <div class="vocab-item">
			<span class="french">extraverti(e)</span><br>
			<span class="arabic" dir="rtl">منفتح/منفتحة</span><br>
			<span class="french">Exemple : Tom est extraverti, il aime parler avec tout le monde.</span>
		  </div>
		  <div class="vocab-item">
			<span class="french">avoir de l'humour</span><br>
			<span class="arabic" dir="rtl">يتمتع بروح الدعابة</span><br>
			<span class="french">Exemple : Ma mère a beaucoup d'humour, elle fait rire toute la famille.</span>
		  </div>
		  <div class="vocab-item">
			<span class="french">être à l'écoute</span><br>
			<span class="arabic" dir="rtl">يصغي للآخرين</span><br>
			<span class="french">Exemple : Mon père est toujours à l'écoute de mes problèmes.</span>
		  </div>
	  </div>
	  </div>
	  <div class="vocab-category">
	  <h3>Expressions idiomatiques et situations réelles</h3>
	  <div class="audio-section" style="margin-bottom:1rem;">
		<audio controls style="width:100%; max-width:350px;">
<source src="/audio/a1bfrm1l2audio2.wav" type="audio/wav">
		  Votre navigateur ne supporte pas l'audio HTML5.
		</audio>
	  </div>
	  <div class="vocab-grid">
		  <div class="vocab-item">
			<span class="french">C'est la pomme de discorde.</span><br>
			<span class="arabic" dir="rtl">تفاحة الشقاق (سبب النزاع)</span><br>
			<span class="french">Exemple : L'argent est souvent la pomme de discorde dans une famille.</span>
		  </div>
		  <div class="vocab-item">
			<span class="french">Être comme chien et chat.</span><br>
			<span class="arabic" dir="rtl">مثل القط والكلب (يتشاجرون دائمًا)</span><br>
			<span class="french">Exemple : Mes deux cousins sont comme chien et chat, ils se disputent tout le temps.</span>
		  </div>
		  <div class="vocab-item">
			<span class="french">Avoir un cœur d'or.</span><br>
			<span class="arabic" dir="rtl">قلبه من ذهب (طيب جدًا)</span><br>
			<span class="french">Exemple : Ma grand-mère a un cœur d'or, elle aide tout le monde.</span>
		  </div>
		  <div class="vocab-item">
			<span class="french">Mettre de l'eau dans son vin.</span><br>
			<span class="arabic" dir="rtl">يخفف من موقفه (يتنازل)</span><br>
			<span class="french">Exemple : Il faut parfois mettre de l'eau dans son vin pour éviter les conflits.</span>
		  </div>
		  <div class="vocab-item">
			<span class="french">Prendre quelqu'un sous son aile.</span><br>
			<span class="arabic" dir="rtl">يأخذ شخصًا تحت جناحه (يرعاه)</span><br>
			<span class="french">Exemple : Le professeur a pris le nouvel élève sous son aile.</span>
		  </div>
	  </div>
	  </div>
	  </section>

	  <!-- Point Grammatical -->
	  <section class="grammar">
	  <h2>📖 Point Grammatical : Les Adjectifs Possessifs</h2>
	<div class="video-section" style="margin-bottom:2rem;">
	  <h3>Vidéo : Les adjectifs possessifs en français</h3>
	  <div class="video-wrapper" style="position:relative; padding-bottom:56.25%; height:0; overflow:hidden; max-width:100%; background:#000; border-radius:0.5em;">
		<iframe src="https://www.youtube.com/embed/pS7edHPU0cg" title="Les adjectifs possessifs en français" allowfullscreen loading="lazy" style="position:absolute; top:0; left:0; width:100%; height:100%; border:0;"></iframe>
	  </div>
	  <div id="video-fallback" style="display:none; color:#c00; font-weight:bold; margin-top:1em;">
		La vidéo ne peut pas être affichée ici. <a href="https://youtu.be/pS7edHPU0cg" target="_blank" rel="noopener" style="color:#0077cc; text-decoration:underline;">Regarder sur YouTube</a>
	  </div>
	  <div style="margin-top:1em;">
		<a href="https://youtu.be/pS7edHPU0cg" target="_blank" rel="noopener" style="color:#0077cc; font-weight:bold; text-decoration:underline;">Regarder sur YouTube</a>
	  </div>
	</div>
	  <div class="grammar-explanation">
			  <p>Les adjectifs possessifs en français s'accordent avec le nom qu'ils accompagnent. Ils changent selon le genre et le nombre de l'objet possédé.</p>
			  <div class="possessive-table">
				  <table>
					  <thead>
						  <tr>
							  <th>Français</th>
							  <th>Masculin singulier</th>
							  <th>Féminin singulier</th>
							  <th>Pluriel</th>
						  </tr>
					  </thead>
					  <tbody>
						  <tr>
							  <td><strong>mon/ma/mes</strong></td>
							  <td>mon</td>
							  <td>ma</td>
							  <td>mes</td>
						  </tr>
						  <tr>
							  <td><strong>ton/ta/tes</strong></td>
							  <td>ton</td>
							  <td>ta</td>
							  <td>tes</td>
						  </tr>
						  <tr>
							  <td><strong>son/sa/ses</strong></td>
							  <td>son</td>
							  <td>sa</td>
							  <td>ses</td>
						  </tr>
						  <tr>
							  <td><strong>notre/nos</strong></td>
							  <td>notre</td>
							  <td>notre</td>
							  <td>nos</td>
						  </tr>
						  <tr>
							  <td><strong>votre/vos</strong></td>
							  <td>votre</td>
							  <td>votre</td>
							  <td>vos</td>
						  </tr>
						  <tr>
							  <td><strong>leur/leurs</strong></td>
							  <td>leur</td>
							  <td>leur</td>
							  <td>leurs</td>
						  </tr>
					  </tbody>
				  </table>
			  </div>
			  <div class="examples-grid">
				  <div class="example-item">
					  <h4>Exemples :</h4>
					  <ul>
						  <li><strong>mon père</strong></li>
						  <li><strong>ma mère</strong></li>
						  <li><strong>mes parents</strong></li>
						  <li><strong>son frère</strong></li>
						  <li><strong>sa sœur</strong></li>
						  <li><strong>ses enfants</strong></li>
					  </ul>
				  </div>
				  <div class="example-item">
					  <h4>Règle spéciale :</h4>
					  <p>On utilise la forme masculine (mon, ton, son) devant un mot féminin commençant par une voyelle ou un h muet :</p>
					  <ul>
						  <li><strong>mon amie</strong></li>
						  <li><strong>ton école</strong></li>
						  <li><strong>son histoire</strong></li>
					  </ul>
				  </div>
			  </div>
		  </div>
	  </section>

	  <!-- Dialogues avec audio -->
	  <section class="dialogues">
		  <h2>💬 Dialogues et Jeux de Rôle</h2>
		  <p dir="rtl" style="font-size:1.1rem; color:#000;">
	<strong>تعليمات:</strong> استمع إلى كل تسجيل صوتي، احفظ الحوارات، ثم كرر كل جملة بصوت عالٍ بدون الاستماع إلى التسجيل، مع الانتباه للنطق والإيقاع.
  </p>
		  <div class="dialogue-container">
			  <h3>Situation 1 : Résoudre un conflit familial</h3>
			  <div class="dialogue">
				  <div class="dialogue-line">
					  <span class="speaker">Lucas:</span>
					  <span class="french">Je trouve que tu ne m'écoutes jamais quand je parle.</span>
				  </div>
				  <div class="dialogue-line">
					  <span class="speaker">Emma:</span>
					  <span class="french">Ce n'est pas vrai, mais parfois je suis occupée. On peut discuter ce soir ?</span>
				  </div>
				  <div class="dialogue-line">
					  <span class="speaker">Lucas:</span>
					  <span class="french">D'accord, j'aimerais qu'on règle ce problème calmement.</span>
				  </div>
			  </div>
<audio controls src="/audio/a1bfrm1l2situation1.wav" aria-label="Dialogue 1 : Résoudre un conflit familial"></audio>
		  </div>
		  <div class="dialogue-container">
			  <h3>Situation 2 : Parler de ses préférences et émotions</h3>
			  <div class="dialogue">
				  <div class="dialogue-line">
					  <span class="speaker">Sami:</span>
					  <span class="french">J'aime passer du temps avec ma famille le week-end. Et toi ?</span>
				  </div>
				  <div class="dialogue-line">
					  <span class="speaker">Julie:</span>
					  <span class="french">Moi, je préfère sortir avec mes amis, mais j'aime aussi les repas en famille.</span>
				  </div>
				  <div class="dialogue-line">
					  <span class="speaker">Sami:</span>
					  <span class="french">Je me sens bien quand on partage des moments ensemble.</span>
				  </div>
			  </div>
<audio controls src="/audio/a1bfrm1l2situation2.wav" aria-label="Dialogue 2 : Parler de ses préférences"></audio>
		  </div>
		  <div class="dialogue-container">
			  <h3>Jeu de rôle : Présenter sa famille à un(e) ami(e) étranger(ère)</h3>
			  <div class="dialogue">
				  <div class="dialogue-line">
					  <span class="speaker">Vous:</span>
					  <span class="french">Bonjour ! Je te présente ma famille. Mon père est médecin, ma mère est professeure, et j'ai deux frères sportifs.</span>
				  </div>
				  <div class="dialogue-line">
					  <span class="speaker">Ami(e):</span>
					  <span class="french">Ils ont l'air très intéressants ! Tu t'entends bien avec eux ?</span>
				  </div>
				  <div class="dialogue-line">
					  <span class="speaker">Vous:</span>
					  <span class="french">Oui, mais parfois on se dispute, surtout pour les tâches ménagères.</span>
				  </div>
			  </div>
<audio controls src="/audio/a1bfrm1l2situation3.wav" aria-label="Jeu de rôle : Présenter sa famille"></audio>
		  </div>
	  </section>

	  <!-- Exercices de Pratique -->
	  <section class="exercises">
		  <h2>✏️ Exercices de Pratique</h2>
		  <div class="exercise">
			  <h3>Exercice 1 : Adjectifs possessifs</h3>
			  <p>Complétez les phrases avec l'adjectif possessif correct :</p>
			  <div class="exercise-items">
			  <div class="exercise-item">
				  <p><strong>___ père s'appelle Robert.</strong></p>
				  <div style="margin-bottom:0.5em;">
					<label><input type="radio" name="poss1"> Ma</label>
					<label style="margin-left:1em;"><input type="radio" name="poss1"> Mon</label>
					<label style="margin-left:1em;"><input type="radio" name="poss1"> Mes</label>
				  </div>
				  <button onclick="this.nextElementSibling.style.display='inline';this.style.display='none'" style="font-size:1rem; padding:0.4em 1em; background:#fff; border:2px solid #333; border-radius:0.5em; cursor:pointer; margin-bottom:0.5em;">Afficher la réponse</button>
				  <span class="answer" style="display:none; background:#f7f7fa; padding:0.3em 0.7em; border-radius:0.5em; color:#000; margin-left:0.5em;">Mon</span>
			  </div>
			  <div class="exercise-item">
				  <p><strong>___ sœur est très intelligente.</strong></p>
				  <div style="margin-bottom:0.5em;">
					<label><input type="radio" name="poss2"> Sa</label>
					<label style="margin-left:1em;"><input type="radio" name="poss2"> Son</label>
					<label style="margin-left:1em;"><input type="radio" name="poss2"> Ses</label>
				  </div>
				  <button onclick="this.nextElementSibling.style.display='inline';this.style.display='none'" style="font-size:1rem; padding:0.4em 1em; background:#fff; border:2px solid #333; border-radius:0.5em; cursor:pointer; margin-bottom:0.5em;">Afficher la réponse</button>
				  <span class="answer" style="display:none; background:#f7f7fa; padding:0.3em 0.7em; border-radius:0.5em; color:#000; margin-left:0.5em;">Sa</span>
			  </div>
			  <div class="exercise-item">
				  <p><strong>___ enfants sont à l'école.</strong></p>
				  <div style="margin-bottom:0.5em;">
					<label><input type="radio" name="poss3"> Nos</label>
					<label style="margin-left:1em;"><input type="radio" name="poss3"> Notre</label>
					<label style="margin-left:1em;"><input type="radio" name="poss3"> Mon</label>
				  </div>
				  <button onclick="this.nextElementSibling.style.display='inline';this.style.display='none'" style="font-size:1rem; padding:0.4em 1em; background:#fff; border:2px solid #333; border-radius:0.5em; cursor:pointer; margin-bottom:0.5em;">Afficher la réponse</button>
				  <span class="answer" style="display:none; background:#f7f7fa; padding:0.3em 0.7em; border-radius:0.5em; color:#000; margin-left:0.5em;">Nos</span>
			  </div>
			  <div class="exercise-item">
				  <p><strong>___ grands-parents habitent en France.</strong></p>
				  <div style="margin-bottom:0.5em;">
					<label><input type="radio" name="poss4"> Leur</label>
					<label style="margin-left:1em;"><input type="radio" name="poss4"> Leurs</label>
					<label style="margin-left:1em;"><input type="radio" name="poss4"> Nos</label>
				  </div>
				  <button onclick="this.nextElementSibling.style.display='inline';this.style.display='none'" style="font-size:1rem; padding:0.4em 1em; background:#fff; border:2px solid #333; border-radius:0.5em; cursor:pointer; margin-bottom:0.5em;">Afficher la réponse</button>
				  <span class="answer" style="display:none; background:#f7f7fa; padding:0.3em 0.7em; border-radius:0.5em; color:#000; margin-left:0.5em;">Leurs</span>
			  </div>
			  </div>
		  </div>
		  <div class="exercise">
			  <h3>Exercice 3 : Description</h3>
			  <p>Décrivez ces personnes en utilisant le vocabulaire appris :</p>
			  <div class="description-exercise">
		  <div class="person-card">
			  <h4>Marie, 25 ans</h4>
			  <ul>
				  <li>Grande et mince</li>
				  <li>Cheveux blonds et longs</li>
				  <li>Yeux bleus</li>
				  <li>Très sympathique</li>
				  <li>Célibataire</li>
			  </ul>
		  </div>
		  <div class="person-card">
			  <h4>Jean, 45 ans</h4>
			  <ul>
				  <li>Taille moyenne</li>
				  <li>Cheveux bruns et courts</li>
				  <li>Yeux marron</li>
				  <li>Intelligent et patient</li>
				  <li>Marié, deux enfants</li>
			  </ul>
		  </div>
		  <div style="margin-top:2em;">
			<button onclick="this.nextElementSibling.style.display='block';this.style.display='none'" style="font-size:1.05rem; padding:0.5em 1.2em; background:#fff; border:2px solid #333; border-radius:0.5em; cursor:pointer; margin-bottom:0.5em;">Afficher le texte à mémoriser</button>
			<div style="display:none; background:#f7f7fa; padding:1em; border-radius:0.5em;">
<audio controls src="/audio/a1bfrm1l2text.wav" aria-label="Audio : Texte à mémoriser" style="width:100%; max-width:350px; margin-bottom:1em;"></audio>
			  <p style="color:#000; font-size:1.1rem; margin-bottom:0.5em;"><strong>Texte à mémoriser :</strong></p>
			  <p style="color:#000; font-size:1.05rem; margin-bottom:0.5em;">Marie a 25 ans. Elle est grande et mince. Elle a les cheveux blonds et longs, les yeux bleus. Elle est très sympathique et célibataire.</p>
			  <p style="color:#000; font-size:1.05rem;">Jean a 45 ans. Il a une taille moyenne, les cheveux bruns et courts, les yeux marron. Il est intelligent et patient. Il est marié et il a deux enfants.</p>
			</div>
		  </div>
			  </div>
		  </div>
	  </section>

	  <!-- Exercice : Arbre Généalogique -->
	  <section class="family-tree">
	  <h2>🌳 L'Arbre Généalogique</h2>
	  <p style="font-size:1.1rem; margin-bottom:1.5rem; color:#000;">Voici la famille de Lucas. Jean est le grand-père, Marie est la grand-mère, Pierre est le père, Sophie est la mère, Paul est l'oncle, Emma est la fille, Tom est le cousin.</p>
<audio controls src="/audio/a1bfrm1l2familytree.wav" aria-label="Audio : Décris la famille de Lucas"></audio>
	  <div style="margin-top:1rem; margin-bottom:1.5rem;">
		<p style="font-size:1.05rem; color:#000;"><strong>Instructions :</strong> Mémorisez le texte ci-dessus et dites-le à voix haute en regardant l'arbre généalogique.</p>
		<p dir="rtl" style="font-size:1.05rem; color:#000;"><strong>تعليمات:</strong> احفظ النص أعلاه وقلْه بصوت عالٍ وأنت تنظر إلى شجرة العائلة.</p>
	  </div>
	  <div class="tree-container">
		  <div class="tree-level grandparents">
			  <div class="person">
				  <span class="name">Jean</span>
				  <span class="relation">le grand-père</span>
			  </div>
			  <div class="person">
				  <span class="name">Marie</span>
				  <span class="relation">la grand-mère</span>
			  </div>
		  </div>
		  <div class="tree-level parents">
			  <div class="person">
				  <span class="name">Pierre</span>
				  <span class="relation">le père</span>
			  </div>
			  <div class="person">
				  <span class="name">Sophie</span>
				  <span class="relation">la mère</span>
			  </div>
			  <div class="person">
				  <span class="name">Paul</span>
				  <span class="relation">l'oncle</span>
			  </div>
		  </div>
		  <div class="tree-level children">
			  <div class="person">
				  <span class="name">Lucas</span>
				  <span class="relation">le fils</span>
			  </div>
			  <div class="person">
				  <span class="name">Emma</span>
				  <span class="relation">la fille</span>
			  </div>
			  <div class="person">
				  <span class="name">Tom</span>
				  <span class="relation">le cousin</span>
			  </div>
		  </div>
	  </div>
	  <div class="exercise" style="margin-top:2em;">
		<h3>Exercice de compréhension: Relations familiales</h3>
		<p>Répondez à ces questions sur l'arbre généalogique ci-dessous :</p>
		<div class="exercise-items">
		  <div class="exercise-item">
			<p><strong>Qui est Jean pour Lucas ?</strong></p>
			<button onclick="this.nextElementSibling.style.display='block';this.style.display='none'" style="font-size:1rem; padding:0.4em 1em; background:#fff; border:2px solid #333; border-radius:0.5em; cursor:pointer; margin-bottom:0.5em;">Afficher la réponse</button>
			<p style="display:none; background:#f7f7fa; padding:0.7em; border-radius:0.5em; color:#000; margin-bottom:0.5em;"><strong>Réponse :</strong> Jean est le grand-père de Lucas.</p>
		  </div>
		  <div class="exercise-item">
			<p><strong>Qui est Paul pour Emma ?</strong></p>
			<button onclick="this.nextElementSibling.style.display='block';this.style.display='none'" style="font-size:1rem; padding:0.4em 1em; background:#fff; border:2px solid #333; border-radius:0.5em; cursor:pointer; margin-bottom:0.5em;">Afficher la réponse</button>
			<p style="display:none; background:#f7f7fa; padding:0.7em; border-radius:0.5em; color:#000; margin-bottom:0.5em;"><strong>Réponse :</strong> Paul est l'oncle d'Emma.</p>
		  </div>
		  <div class="exercise-item">
			<p><strong>Qui est Tom pour Lucas ?</strong></p>
			<button onclick="this.nextElementSibling.style.display='block';this.style.display='none'" style="font-size:1rem; padding:0.4em 1em; background:#fff; border:2px solid #333; border-radius:0.5em; cursor:pointer; margin-bottom:0.5em;">Afficher la réponse</button>
			<p style="display:none; background:#f7f7fa; padding:0.7em; border-radius:0.5em; color:#000; margin-bottom:0.5em;"><strong>Réponse :</strong> Tom est le cousin de Lucas.</p>
		  </div>
		</div>
	  </div>
	  </section>

	  <!-- Lecture Culturelle -->
	  <section class="cultural-note">
	  <h2 style="color:black; font-size:2.2rem;">🌍 Lecture Culturelle</h2>
	  <div class="note-content" style="color:black; background:white; border-radius:0.5em; padding:1.5em;">
		<h3 style="color:black; font-size:1.5rem;">La famille au Maroc</h3>
<audio controls src="/audio/a1bfrm1l2reading.wav" aria-label="Audio : La famille au Maroc" style="width:100%; max-width:350px; opacity:0.5; margin-bottom:1rem;"></audio>
		<p style="color:black; font-size:1.15rem;">Au Maroc, la famille est très importante. Les parents, les enfants et les grands-parents vivent souvent ensemble ou près les uns des autres.</p>
		<p style="color:black; font-size:1.15rem;">Les repas en famille sont très appréciés. On mange ensemble pendant les fêtes et les grandes occasions.</p>
		<p style="color:black; font-size:1.15rem;"><strong>Faits intéressants :</strong></p>
		<ul style="color:black; font-size:1.15rem; margin-left:1.5em;">
		  <li>On respecte beaucoup les personnes âgées.</li>
		  <li>Il y a souvent beaucoup de cousins, d'oncles et de tantes.</li>
		  <li>Les mariages et les fêtes réunissent toute la famille.</li>
		  <li>Les enfants apprennent à s'aider et à partager.</li>
		</ul>
		<div style="margin-top:1.5em;">
	  <button id="start-timer-culture" style="font-size:1.1rem; padding:0.5em 1.2em; background:#fff; border:2px solid #333; border-radius:0.5em; cursor:pointer; margin-bottom:0.5em;">⏱️ Démarrer le chronomètre</button>
	  <span id="timer-display-culture" style="font-size:1.2rem; margin-left:1em;">00:00</span>
		<script>
		// Authentication check runs immediately
		(function() {
		  const loggedIn = localStorage.getItem('loggedIn');
		  
		  if (!loggedIn || loggedIn !== 'true') {
			// Redirect immediately without showing content
			window.location.replace('/login');
			return;
		  }
		  
		  // User is logged in, hide loading screen and show content
		  const loadingScreen = document.getElementById('loading-screen');
		  if (loadingScreen) {
			loadingScreen.style.display = 'none';
		  }
		})();

		// Timer functionality
		let timerIntervalCulture: ReturnType<typeof setInterval> | undefined, secondsCulture = 0;
		const startTimerCultureBtn = document.getElementById('start-timer-culture');
		if (startTimerCultureBtn) {
		  startTimerCultureBtn.onclick = function() {
			clearInterval(timerIntervalCulture);
			secondsCulture = 0;
			const timerDisplayCulture = document.getElementById('timer-display-culture');
			if (timerDisplayCulture) {
			  timerDisplayCulture.textContent = '00:00';
			}
			timerIntervalCulture = setInterval(function() {
			  secondsCulture++;
			  let min = String(Math.floor(secondsCulture/60)).padStart(2,'0');
			  let sec = String(secondsCulture%60).padStart(2,'0');
			  if (timerDisplayCulture) {
				timerDisplayCulture.textContent = min+':'+sec;
			  }
			}, 1000);
		  };
		}
	  </script>
	  <p style="color:black; font-size:1.05rem; margin-top:1em;"><strong>Entraînement au rythme :</strong> Écoutez le texte plusieurs fois et mettez l'audio en pause. Lancez le chronomètre et lisez le texte à voix haute plusieurs fois pour améliorer votre vitesse et votre prononciation.</p>
	  <p dir="rtl" style="color:black; font-size:1.05rem; margin-top:0.5em;"><strong>تدريب على الإيقاع: </strong> استمع إلى النص عدة مرات وأوقف الصوت مؤقتًا. ابدأ المؤقت واقرأ النص بصوت عالٍ عدة مرات لتحسين سرعتك ونطقك.</p>
		</div>
	  </div>
	  </section>

	  <!-- Navigation -->
	  <div class="lesson-navigation">
		  <a href="/lesson2" class="btn btn-secondary">← Précédent : Les Nombres et l'Heure</a>
		  <a href="/lesson4" class="btn">Suivant : Nourriture et Repas →</a>
	  </div>
	</div>
</Layout>

<style>
	@keyframes spin {
		0% { transform: rotate(0deg); }
		100% { transform: rotate(360deg); }
	}

	/* Inherit base lesson styles */
	.lesson-header {
		text-align: center;
		margin-bottom: 3rem;
		padding-bottom: 2rem;
		border-bottom: 2px solid var(--color-border);
	}

	.lesson-nav {
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin-bottom: 2rem;
	}

	.lesson-progress {
		background: var(--color-secondary);
		padding: 0.5rem 1rem;
		border-radius: var(--border-radius);
		font-weight: 500;
		color: var(--color-text-light);
	}

   .lesson-header h1 {
	   font-size: 2.5rem;
	   color: #000;
	   margin-bottom: 0.5rem;
   }

   .lesson-subtitle {
	   font-size: 1.25rem;
	   color: #000;
   }

   .lesson-content section {
	   margin-bottom: 3rem;
	   background: white;
	   padding: 2rem;
	   border-radius: var(--border-radius);
	   box-shadow: var(--shadow);
   }

   section h2 {
	   color: #000;
	   margin-bottom: 1.5rem;
	   font-size: 1.5rem;
   }

   .objectives ul {
	   list-style: none;
	   padding: 0;
   }

   .objectives li {
	   background: var(--color-secondary);
	   padding: 1rem;
	   margin-bottom: 0.5rem;
	   border-radius: var(--border-radius);
	   border-left: 4px solid var(--color-accent);
	   color: #000;
   }

   .vocab-category,
   .description-category {
	   margin-bottom: 2rem;
   }

   .vocab-category h3,
   .description-category h3 {
	   color: #000;
	   margin-bottom: 1rem;
	   font-size: 1.25rem;
   }

   .vocab-grid {
	   display: grid;
	   gap: 1rem;
   }

   .vocab-item {
	   display: grid;
	   grid-template-columns: 1fr 1fr 1fr;
	   gap: 1rem;
	   padding: 1rem;
	   background: var(--color-secondary);
	   border-radius: var(--border-radius);
	   align-items: center;
	   color: #000;
   }

   .french {
	   font-weight: 700;
	   color: #000;
	   font-size: 1.1rem;
   }

   .pronunciation {
	   font-style: italic;
	   color: #000;
	   font-family: monospace;
   }

   .english {
	   color: #000;
   }

   /* Possessive table styles */
   .possessive-table {
	   margin: 2rem 0;
	   overflow-x: auto;
   }

   .possessive-table table {
	   width: 100%;
	   border-collapse: collapse;
	   background: var(--color-secondary);
	   border-radius: var(--border-radius);
	   overflow: hidden;
   }

   .possessive-table th,
   .possessive-table td {
	   padding: 1rem;
	   text-align: left;
	   border-bottom: 1px solid var(--color-border);
	   color: #000;
   }

   .possessive-table th {
	   background: var(--color-primary);
	   color: #000;
	   font-weight: 600;
   }

   .possessive-table td {
	   color: #000;
   }

   .examples-grid {
	   display: grid;
	   grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
	   gap: 2rem;
	   margin-top: 2rem;
   }

   .example-item {
	   background: var(--color-secondary);
	   padding: 1.5rem;
	   border-radius: var(--border-radius);
	   color: #000;
   }

   .example-item h4 {
	   color: #000;
	   margin-bottom: 1rem;
   }

   .example-item ul {
	   list-style-type: disc;
	   margin-left: 1.5rem;
   }

   .example-item li {
	   margin-bottom: 0.5rem;
	   color: #000;
   }

   /* Family tree styles */
   .tree-container {
	   background: var(--color-secondary);
	   padding: 2rem;
	   border-radius: var(--border-radius);
	   text-align: center;
	   color: #000;
   }

   .tree-level {
	   display: flex;
	   justify-content: center;
	   gap: 2rem;
	   margin-bottom: 2rem;
	   flex-wrap: wrap;
   }

   .person {
	   background: white;
	   padding: 1rem;
	   border-radius: var(--border-radius);
	   box-shadow: var(--shadow);
	   display: flex;
	   flex-direction: column;
	   align-items: center;
	   min-width: 120px;
	   color: #000;
   }

   .name {
	   font-weight: 600;
	   color: #000;
	   margin-bottom: 0.5rem;
   }

   .relation {
	   color: #000;
	   font-style: italic;
	   font-size: 0.9rem;
   }

   .grandparents .person {
	   border-top: 4px solid #ff6b6b;
   }

   .parents .person {
	   border-top: 4px solid #4ecdc4;
   }

   .children .person {
	   border-top: 4px solid #45b7d1;
   }

   /* Dialogue styles */
   .dialogue-container {
	   margin-bottom: 2rem;
   }

   .dialogue-container h3 {
	   color: #000;
	   margin-bottom: 1rem;
   }

   .dialogue {
	   background: var(--color-secondary);
	   padding: 1.5rem;
	   border-radius: var(--border-radius);
	   color: #000;
   }

   .dialogue-line {
	   margin-bottom: 1rem;
	   display: grid;
	   grid-template-columns: auto 1fr 1fr;
	   gap: 1rem;
	   align-items: center;
	   color: #000;
   }

   .speaker {
	   font-weight: 700;
	   color: #000;
	   min-width: 80px;
   }

   .dialogue-line .french {
	   font-weight: 600;
	   color: #000;
   }

   .dialogue-line .english {
	   color: #000;
	   font-style: italic;
   }

   /* Exercise styles */
   .exercise {
	   margin-bottom: 2rem;
	   padding: 1.5rem;
	   background: var(--color-secondary);
	   border-radius: var(--border-radius);
	   color: #000;
   }

   .exercise h3 {
	   color: #000;
	   margin-bottom: 1rem;
   }

   .exercise-items {
	   margin-top: 1rem;
   }

   .exercise-item {
	   margin-bottom: 1rem;
	   padding: 1rem;
	   background: white;
	   border-radius: var(--border-radius);
	   border-left: 4px solid var(--color-accent);
	   color: #000;
   }

   .answer {
	   color: #000;
	   font-weight: 600;
   }

   .description-exercise {
	   display: grid;
	   grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
	   gap: 1rem;
   }

   .person-card {
	   background: white;
	   padding: 1.5rem;
	   border-radius: var(--border-radius);
	   border-left: 4px solid var(--color-primary);
	   color: #000;
   }

   .person-card h4 {
	   color: #000;
	   margin-bottom: 1rem;
   }

   .person-card ul {
	   list-style-type: disc;
	   margin-left: 1.5rem;
   }

   .person-card li {
	   margin-bottom: 0.5rem;
	   color: #000;
   }

   /* Cultural note */
   .cultural-note {
	   background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
	   color: #000;
   }

   .cultural-note h2 {
	   color: #000;
   }

   .note-content h3 {
	   color: #000;
	   margin-bottom: 1rem;
   }

   .note-content p,
   .note-content ul {
	   line-height: 1.6;
	   margin-bottom: 1rem;
	   color: #000;
   }

   .note-content ul {
	   margin-left: 1.5rem;
	   color: #000;
   }

   /* Navigation */
   .lesson-navigation {
	   display: flex;
	   justify-content: space-between;
	   margin-top: 3rem;
	   padding-top: 2rem;
	   border-top: 2px solid var(--color-border);
   }

   @media (max-width: 768px) {
	   .lesson-nav {
		   flex-direction: column;
		   gap: 1rem;
	   }

	   .lesson-header h1 {
		   font-size: 2rem;
		   color: #000;
	   }

	   .vocab-item {
		   grid-template-columns: 1fr;
		   text-align: center;
		   color: #000;
	   }

	   .dialogue-line {
		   grid-template-columns: 1fr;
		   text-align: left;
		   color: #000;
	   }

	   .examples-grid {
		   grid-template-columns: 1fr;
	   }

	   .tree-level {
		   flex-direction: column;
		   align-items: center;
	   }

	   .description-exercise {
		   grid-template-columns: 1fr;
	   }

	   .lesson-navigation {
		   flex-direction: column;
		   gap: 1rem;
	   }

	   .possessive-table {
		   font-size: 0.9rem;
	   }
   }
</style>
